jenkins:
  systemMessage: "Haha chapeau-chapeau"
  securityRealm:
    local:
      allowsSignup: false
      users:
        - id: "${JENKINS_ADMIN_USERNAME}"
          name: "Admin"
          password: "${JENKINS_ADMIN_PASSWORD}"
  authorizationStrategy:
    roleBased:
      roles:
        global:
          - name: "Admin"
            description: "Jenkins administrator"
            entries:
              - user: "${JENKINS_ADMIN_USERNAME}"
            permissions:
              - "Overall/Administer"

jobs:
  - file: /var/lib/jenkins/job_dsl.groovy

credentials:
  system:
    domainCredentials:
      - credentials:
        - basicSSHUserPrivateKey:
            id: "git_ssh_key"
            description: "Default SSH key for git operations"
            scope: GLOBAL
            privateKeySource:
              directEntry:
                privateKey: "${SSH_PRIVATE_KEY}"
            username: "${SSH_USERNAME}"

security:
  gitHostKeyVerificationConfiguration:
    sshHostKeyVerificationStrategy: "acceptFirstConnectionStrategy"
  scriptApproval:
    approvedScriptHashes:
      - "SHA512:82630f0b1f31d9d1e357bbe6231bb5f00cfabb8e6048ba03b5fab25f0ab7ef8d3c28b7289f2cee71d758d2516c9b67e8bc99f7cd3f59775bba4e337a844d81b0"
